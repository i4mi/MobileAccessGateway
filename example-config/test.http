@host = http://localhost:9080
//https://localhost:9091
//http://localhost:9090


### Responding Gateway configured
GET {{host}}/fhir/metadata HTTP/1.1
Accept: application/fhir+json

### Responding Gateway configured
GET {{host}}/fhir/metadata HTTP/1.1
Accept: application/fhir+json

###
GET {{host}}/fhir/metadata HTTP/1.1
Accept: application/fhir+json

### PIXm Query [ITI-78] general (returns 403 when ch-pixm-constraints: true)
GET {{host}}/fhir/Patient/$ihe-pix?sourceIdentifier=urn:oid:1.3.6.1.4.1.12559.11.25.1.19|CHFACILITY900012 HTTP/1.1
Accept: application/fhir+json

### PIXm Query [ITI-78] according to CH PIXm constraints (see https://fhir.ch/ig/ch-epr-fhir/iti-83.html#message-semantics-1)
GET {{host}}/fhir/Patient/$ihe-pix?sourceIdentifier=urn:oid:1.3.6.1.4.1.12559.11.25.1.19|CHFACILITY900012&targetSystem=urn:oid:2.16.756.5.30.1.127.3.10.3&targetSystem=urn:oid:1.3.6.1.4.1.12559.11.20.1 HTTP/1.1
Accept: application/fhir+json

### PDQm Query [ITI-78] according to CH PDQm constraints max 5 resulsts
GET {{host}}/fhir/Patient?family=WITTWER HTTP/1.1
Accept: application/fhir+json

### PDQm Query [ITI-78] according to CH PIXm constraints (see https://fhir.ch/ig/ch-epr-fhir/iti-83.html#message-semantics-1)
GET {{host}}/fhir/Patient?family=A HTTP/1.1
Accept: application/fhir+json

### PDQm Query [ITI-78] according to CH PIXm constraints (see https://fhir.ch/ig/ch-epr-fhir/iti-83.html#message-semantics-1)
GET {{host}}/fhir/Patient?family=ST HTTP/1.1
Accept: application/fhir+json

###
GET {{host}}/fhir/Patient/761337610411265304 HTTP/1.1
Accept: application/fhir+json

### HL7v3 Responders Receiver device id.root OID 2.16.756.5.30.1.145.2024.1
### HL7v3 Responders Organizationt OID 2.16.756.5.30.1.145.2024
### assuming ahdis has for testing an assiging authority of 2.16.756.5.30.1.145.1.1.1 (root id is 2.16.756.5.30.1.145), and we need to proivde the organization provider
### currently this gives however an error with the simulator: Failure during REST processing: ca.uhn.fhir.rest.server.exceptions.InvalidRequestException: 761337610411265304^^^SPID&2.16.756.5.30.1.127.3.10.3&ISO  is already used
PUT {{host}}/fhir/Patient?identifier=urn:oid:2.16.756.5.30.1.145.1.1.1|PAT001 HTTP/1.1
Accept: application/fhir+json
Content-Type: application/fhir+json

{
  "resourceType": "Patient",
  "extension": [
    {
      "url": "http://hl7.org/fhir/StructureDefinition/patient-mothersMaidenName",
      "valueString": "Buchwald"
    }
  ],
  "identifier": [
    {
      "system": "urn:oid:2.16.756.5.30.1.127.3.10.3",
      "value": "761337610411265304"
    },
    {
      "system": "urn:oid:2.16.756.5.30.1.145.1.1.1",
      "value": "PAT001"
    }
  ],
  "active": true,
  "name": [
    {
      "family": "WITTWER-CHRISTEN",
      "given": [
        "Nilesh"
      ]
    }
  ],
  "gender": "male",
  "birthDate": "1994-12-28",
  "address": [
    {
      "line": [
        "Route du Nant-d'Avril"
      ],
      "city": "Meyrin",
      "postalCode": "1214",
      "country": "CHE"
    }
  ],
  "managingOrganization" : {
    "identifier" : {
      "system" : "urn:oid:2.51.1.3",
      "value" : "7601000201041"
    }
  }
}

### try a new one


PUT {{host}}fhir/Patient?identifier=urn:oid:2.16.756.5.30.1.145.2024.1|MAGMED006 HTTP/1.1
Accept: application/fhir+json
Content-Type: application/fhir+json

{
  "resourceType": "Patient",
  "identifier": [
    {
      "system": "urn:oid:2.16.756.5.30.1.127.3.10.3",
      "value": "761337615758291048"
    },
    {
      "system": "urn:oid:2.16.756.5.30.1.145.2024.1",
      "value": "MAGMED006"
    }
  ],
  "active": true,
  "name": [
    {
      "family": "Sesztáková",
      "given": [
        "Jett Flynn"
      ]
    }
  ],
  "gender": "male",
  "birthDate": "1993-01-27",
  "managingOrganization" : {
    "identifier" : {
      "system" : "urn:oid:2.51.1.3",
      "value" : "7601000201041"
    }
  }
}

###
PUT {{host}}/fhir/Patient?identifier=urn:oid:1.3.6.1.4.1.21367.2017.2.5.46|MAGMED005 HTTP/1.1
Accept: application/fhir+json
Content-Type: application/fhir+json

{
  "resourceType": "Patient",
  "identifier": [
    {
      "system": "urn:oid:2.16.756.5.30.1.127.3.10.3",
      "value": "761337611932009095"
    },
    {
      "system": "urn:oid:1.3.6.1.4.1.21367.2017.2.5.46",
      "value": "MAGMED005"
    }
  ],
  "active": true,
  "name": [
    {
      "family": "Behluli-Qazimi",
      "given": [
        "Leandra Corina"
      ]
    }
  ],
  "gender": "female",
  "birthDate": "2002-12-21",
  "managingOrganization" : {
    "identifier" : {
      "system" : "urn:oid:2.51.1.3",
      "value" : "7601000201041"
    }
  }
}

###
GET {{host}}/fhir/Patient/761337611932009095 HTTP/1.1
Accept: application/fhir+json
Content-Type: application/fhir+json



### ITI-67 Find Document References XDSTools7 ahdis
GET {{host}}/fhir/DocumentReference?status=current&patient.identifier=urn:oid:2.16.756.5.30.1.127.3.10.3|761337610411265304 HTTP/1.1
Accept: application/fhir+json
Content-Type: application/fhir+json


### 
### ITI-65 Provide Document Bundle, you need to adapt the patient url in example to lo
POST {{host}}/fhir/ HTTP/1.1
Accept: application/fhir+json
Content-Type: application/fhir+json

###
GET {{host}}/fhir/DocumentReference/18e970bd-92db-4a06-a164-8ef65e8a038a HTTP/1.1
Accept: application/fhir+json
Content-Type: application/fhir+json


### registered also 1.3.6.1.4.1.12559.11.25.1.19 in our repository

### certifactes used are from # certificate from https://ehealthsuisse.ihe-europe.net/gss/certificate/view.seam?id=386
### verify that you have configured in restlcient the certificate for the host (rename der to cer)
###
###      "localhost:9091": {
###        "cert": "/Users/oegger/Documents/github/k8s-fhir.ch/configurations/gazelle-ehealthsuisse/386.cer",
###        "key":  "/Users/oegger/Documents/github/k8s-fhir.ch/configurations/gazelle-ehealthsuisse/386.key"
###      }
### Rest-client: Certificates
### Certificate paths for different hosts. The path can be absolute path or relative path(relative to workspace or current http file)

GET {{host}}/fhir/Patient?identifier=urn:oid:1.3.6.1.4.1.12559.11.25.1.19|PAM8776579876  HTTP/1.1
Accept: application/fhir+json

### EPRS-SPID configured for ahdis xds tools repository   761337610411265304^^^SPID&2.16.756.5.30.1.127.3.10.3&ISO

### MHD ITI-67 with SAML assertion as IHE-SAML
GET {{host}}/fhir/DocumentReference?patient.identifier=urn:oid:1.3.6.1.4.1.12559.11.25.1.19|CHFACILITY900012&status=current HTTP/1.1
Accept: application/fhir+json
Authorization: IHE-SAML PHNhbWwyOkFzc2VydGlvbiB4bWxuczpzYW1sMj0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmFzc2VydGlvbiIgeG1sbnM6eHNkPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYSIgeG1sbnM6eHNpPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYS1pbnN0YW5jZSIgSUQ9Il8yY2ZjYzM4Mi03ZTYwLTQ0ZTAtOTliNS0xOGUzZjcxOGNiYzYiIElzc3VlSW5zdGFudD0iMjAyNC0wOC0yOVQxNTowNDowMy43MzlaIiBWZXJzaW9uPSIyLjAiIHhzaTp0eXBlPSJzYW1sMjpBc3NlcnRpb25UeXBlIj4KICAgICAgICA8c2FtbDI6SXNzdWVyPnh1YS5oaW4uY2g8L3NhbWwyOklzc3Vlcj4KICAgICAgICA8ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIj4KICAgICAgICAgIDxkczpTaWduZWRJbmZvPgogICAgICAgICAgICA8ZHM6Q2Fub25pY2FsaXphdGlvbk1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMTAveG1sLWV4Yy1jMTRuIyIvPgogICAgICAgICAgICA8ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPgogICAgICAgICAgICA8ZHM6UmVmZXJlbmNlIFVSST0iI18yY2ZjYzM4Mi03ZTYwLTQ0ZTAtOTliNS0xOGUzZjcxOGNiYzYiPgogICAgICAgICAgICAgIDxkczpUcmFuc2Zvcm1zPgogICAgICAgICAgICAgICAgPGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNlbnZlbG9wZWQtc2lnbmF0dXJlIi8+CiAgICAgICAgICAgICAgICA8ZHM6VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIj4KICAgICAgICAgICAgICAgICAgPGVjOkluY2x1c2l2ZU5hbWVzcGFjZXMgeG1sbnM6ZWM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMTAveG1sLWV4Yy1jMTRuIyIgUHJlZml4TGlzdD0iZGVsIHhzZCIvPgogICAgICAgICAgICAgICAgPC9kczpUcmFuc2Zvcm0+CiAgICAgICAgICAgICAgPC9kczpUcmFuc2Zvcm1zPgogICAgICAgICAgICAgIDxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz4KICAgICAgICAgICAgICA8ZHM6RGlnZXN0VmFsdWU+VXlxemRwTGtZVU1zY0JPMGJFUDZGd25LbmxVc2NWQ0Q3MEdMM3VQNmFTWT08L2RzOkRpZ2VzdFZhbHVlPgogICAgICAgICAgICA8L2RzOlJlZmVyZW5jZT4KICAgICAgICAgIDwvZHM6U2lnbmVkSW5mbz4KICAgICAgICAgIDxkczpTaWduYXR1cmVWYWx1ZT5HRlNoRUc0SW4xdXNuWEpmYXBORDNkdmxOUDlOdnc0TWZ1WEh6YXVpS2xxemZ5R3ZlaWFvUnZaTU8zcmVLVXcwOG9nT3pFc3NOYk9GICAgICAgICAgICAgdUR3SVRyNUxzSDFzSEpnM3E4NWZXUE5IalhKdkMzZXVwMWZJS3ZUczdZenhYa2RXcnVGMlplREo5NzBQdVBKUGM1OWxqU09BK1VGeCBaOFphUklOTnA2RkpjVTNYa3FzPTwvZHM6U2lnbmF0dXJlVmFsdWU+CiAgICAgICAgICA8ZHM6S2V5SW5mbz4KICAgICAgICAgICAgPGRzOlg1MDlEYXRhPgogICAgICAgICAgICAgIDxkczpYNTA5Q2VydGlmaWNhdGU+TUlJRGpUQ0NBdmFnQXdJQkFnSUNBSTB3RFFZSktvWklodmNOQVFFTkJRQXdSVEVMTUFrR0ExVUVCaE1DUTBneEREQUtCZ05WQkFvTSAgICAgICAgICAgIEtuaWdodHMgd2hvIHNheXMgTkkgICAgICAgIFhSOEdyWS9RU21uM1RXZ0hmTzZxTGRyVUVmdlYgZXc9PTwvZHM6WDUwOUNlcnRpZmljYXRlPgogICAgICAgICAgICA8L2RzOlg1MDlEYXRhPgogICAgICAgICAgPC9kczpLZXlJbmZvPgogICAgICAgIDwvZHM6U2lnbmF0dXJlPgogICAgICAgIDxzYW1sMjpTdWJqZWN0PgogICAgICAgICAgPHNhbWwyOk5hbWVJRCBGb3JtYXQ9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpuYW1laWQtZm9ybWF0OnBlcnNpc3RlbnQiIE5hbWVRdWFsaWZpZXI9InVybjplLWhlYWx0aC1zdWlzc2U6MjAxNTplcHItc3BpZCI+NzYxMzM3NjEzNDg4NTgxMjYxPC9zYW1sMjpOYW1lSUQ+CiAgICAgICAgPC9zYW1sMjpTdWJqZWN0PgogICAgICAgIDxzYW1sMjpDb25kaXRpb25zIE5vdEJlZm9yZT0iMjAyMS0xMC0xNFQyMjoxMDo0OS44MzFaIiBOb3RPbk9yQWZ0ZXI9IjIwMjUtMTAtMTRUMjI6MTU6NDkuODMxNTgyWiI+CiAgICAgICAgICA8c2FtbDI6QXVkaWVuY2VSZXN0cmljdGlvbj4KICAgICAgICAgICAgPHNhbWwyOkF1ZGllbmNlPmh0dHA6Ly9paGUuY29ubmVjdGF0aG9uLlhVQS9YLVNlcnZpY2VQcm92aWRlci1JSEUtQ29ubmVjdGF0aG9uPC9zYW1sMjpBdWRpZW5jZT4KICAgICAgICAgIDwvc2FtbDI6QXVkaWVuY2VSZXN0cmljdGlvbj4KICAgICAgICA8L3NhbWwyOkNvbmRpdGlvbnM+CiAgICAgICAgPHNhbWwyOkF1dGhuU3RhdGVtZW50IEF1dGhuSW5zdGFudD0iMjAyNC0wOC0yOVQxNTowNDowMy43MzlaIiBTZXNzaW9uTm90T25PckFmdGVyPSIyMDE4LTAzLTI4VDA5OjEyOjQzLjE1NFoiPgogICAgICAgICAgPHNhbWwyOkF1dGhuQ29udGV4dD4KICAgICAgICAgICAgPHNhbWwyOkF1dGhuQ29udGV4dENsYXNzUmVmPnVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphYzpjbGFzc2VzOnVuc3BlY2lmaWVkPC9zYW1sMjpBdXRobkNvbnRleHRDbGFzc1JlZj4KICAgICAgICAgIDwvc2FtbDI6QXV0aG5Db250ZXh0PgogICAgICAgIDwvc2FtbDI6QXV0aG5TdGF0ZW1lbnQ+CiAgICAgICAgPHNhbWwyOkF0dHJpYnV0ZVN0YXRlbWVudD4KICAgICAgICAgIDxzYW1sMjpBdHRyaWJ1dGUgTmFtZT0idXJuOm9hc2lzOm5hbWVzOnRjOnhzcGE6MS4wOnN1YmplY3Q6c3ViamVjdC1pZCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPgogICAgICAgICAgICA8c2FtbDI6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzZDpzdHJpbmciPklyaXMgTXVzdGVycGF0aWVudDwvc2FtbDI6QXR0cmlidXRlVmFsdWU+CiAgICAgICAgICA8L3NhbWwyOkF0dHJpYnV0ZT4KICAgICAgICAgIDxzYW1sMjpBdHRyaWJ1dGUgTmFtZT0idXJuOm9hc2lzOm5hbWVzOnRjOnhzcGE6MS4wOnN1YmplY3Q6b3JnYW5pemF0aW9uIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVyaSIvPgogICAgICAgICAgPHNhbWwyOkF0dHJpYnV0ZSBOYW1lPSJ1cm46b2FzaXM6bmFtZXM6dGM6eHNwYToxLjA6c3ViamVjdDpvcmdhbml6YXRpb24taWQiIE5hbWVGb3JtYXQ9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphdHRybmFtZS1mb3JtYXQ6dXJpIi8+CiAgICAgICAgICA8c2FtbDI6QXR0cmlidXRlIE5hbWU9InVybjpvYXNpczpuYW1lczp0Yzp4YWNtbDoyLjA6c3ViamVjdDpyb2xlIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVyaSI+CiAgICAgICAgICAgIDxzYW1sMjpBdHRyaWJ1dGVWYWx1ZT4KICAgICAgICAgICAgICA8Um9sZSB4bWxucz0idXJuOmhsNy1vcmc6djMiIGNvZGU9IlBBVCIgY29kZVN5c3RlbT0iMi4xNi43NTYuNS4zMC4xLjEyNy4zLjEwLjYiIGNvZGVTeXN0ZW1OYW1lPSJjaC1laGVhbHRoLWNvZGVzeXN0ZW0tcm9sZSIgZGlzcGxheU5hbWU9IlBhdGllbnQiIHhzaTp0eXBlPSJDRSIvPgogICAgICAgICAgICA8L3NhbWwyOkF0dHJpYnV0ZVZhbHVlPgogICAgICAgICAgPC9zYW1sMjpBdHRyaWJ1dGU+CiAgICAgICAgICA8c2FtbDI6QXR0cmlidXRlIE5hbWU9InVybjpvYXNpczpuYW1lczp0Yzp4c3BhOjEuMDpzdWJqZWN0OnB1cnBvc2VvZnVzZSIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPgogICAgICAgICAgICA8c2FtbDI6QXR0cmlidXRlVmFsdWU+CiAgICAgICAgICAgICAgPFB1cnBvc2VPZlVzZSB4bWxucz0idXJuOmhsNy1vcmc6djMiIGNvZGU9Ik5PUk0iIGNvZGVTeXN0ZW09IjIuMTYuNzU2LjUuMzAuMS4xMjcuMy4xMC41IiBjb2RlU3lzdGVtTmFtZT0iY2gtZWhlYWx0aC1jb2Rlc3lzdGVtLXB1cnBvc2VPZlVzZSIgZGlzcGxheU5hbWU9Ik5vcm1hbCBBY2Nlc3MiIHhzaTp0eXBlPSJDRSIvPgogICAgICAgICAgICA8L3NhbWwyOkF0dHJpYnV0ZVZhbHVlPgogICAgICAgICAgPC9zYW1sMjpBdHRyaWJ1dGU+CiAgICAgICAgICA8c2FtbDI6QXR0cmlidXRlIE5hbWU9InVybjpvYXNpczpuYW1lczp0Yzp4YWNtbDoyLjA6cmVzb3VyY2U6cmVzb3VyY2UtaWQiIE5hbWVGb3JtYXQ9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphdHRybmFtZS1mb3JtYXQ6dXJpIj4KICAgICAgICAgICAgPHNhbWwyOkF0dHJpYnV0ZVZhbHVlIHhzaTp0eXBlPSJ4c2Q6c3RyaW5nIj43NjEzMzc2MTM0ODg1ODEyNjFeXl4mYW1wOzIuMTYuNzU2LjUuMzAuMS4xMjcuMy4xMC4zJmFtcDtJU088L3NhbWwyOkF0dHJpYnV0ZVZhbHVlPgogICAgICAgICAgPC9zYW1sMjpBdHRyaWJ1dGU+CiAgICAgICAgICA8c2FtbDI6QXR0cmlidXRlIE5hbWU9InVybjppaGU6aXRpOnhjYToyMDEwOmhvbWVDb21tdW5pdHlJZCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPgogICAgICAgICAgICA8c2FtbDI6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzZDphbnlVUkkiPnVybjpvaWQ6My4zLjMuMTwvc2FtbDI6QXR0cmlidXRlVmFsdWU+CiAgICAgICAgICA8L3NhbWwyOkF0dHJpYnV0ZT4KICAgICAgICA8L3NhbWwyOkF0dHJpYnV0ZVN0YXRlbWVudD4KICAgICAgPC9zYW1sMjpBc3NlcnRpb24+

### MHD ITI-67 with SAML assertion as Bearer
GET {{host}}/fhir/DocumentReference?patient.identifier=urn:oid:1.3.6.1.4.1.12559.11.25.1.19|CHFACILITY900012&status=current HTTP/1.1
Accept: application/fhir+json
Authorization: Bearer PHNhbWwyOkFzc2VydGlvbiB4bWxuczpzYW1sMj0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmFzc2VydGlvbiIgeG1sbnM6eHNkPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYSIgeG1sbnM6eHNpPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYS1pbnN0YW5jZSIgSUQ9Il8yY2ZjYzM4Mi03ZTYwLTQ0ZTAtOTliNS0xOGUzZjcxOGNiYzYiIElzc3VlSW5zdGFudD0iMjAyNC0wOC0yOVQxNTowNDowMy43MzlaIiBWZXJzaW9uPSIyLjAiIHhzaTp0eXBlPSJzYW1sMjpBc3NlcnRpb25UeXBlIj4KICAgICAgICA8c2FtbDI6SXNzdWVyPnh1YS5oaW4uY2g8L3NhbWwyOklzc3Vlcj4KICAgICAgICA8ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIj4KICAgICAgICAgIDxkczpTaWduZWRJbmZvPgogICAgICAgICAgICA8ZHM6Q2Fub25pY2FsaXphdGlvbk1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMTAveG1sLWV4Yy1jMTRuIyIvPgogICAgICAgICAgICA8ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPgogICAgICAgICAgICA8ZHM6UmVmZXJlbmNlIFVSST0iI18yY2ZjYzM4Mi03ZTYwLTQ0ZTAtOTliNS0xOGUzZjcxOGNiYzYiPgogICAgICAgICAgICAgIDxkczpUcmFuc2Zvcm1zPgogICAgICAgICAgICAgICAgPGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNlbnZlbG9wZWQtc2lnbmF0dXJlIi8+CiAgICAgICAgICAgICAgICA8ZHM6VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIj4KICAgICAgICAgICAgICAgICAgPGVjOkluY2x1c2l2ZU5hbWVzcGFjZXMgeG1sbnM6ZWM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMTAveG1sLWV4Yy1jMTRuIyIgUHJlZml4TGlzdD0iZGVsIHhzZCIvPgogICAgICAgICAgICAgICAgPC9kczpUcmFuc2Zvcm0+CiAgICAgICAgICAgICAgPC9kczpUcmFuc2Zvcm1zPgogICAgICAgICAgICAgIDxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz4KICAgICAgICAgICAgICA8ZHM6RGlnZXN0VmFsdWU+VXlxemRwTGtZVU1zY0JPMGJFUDZGd25LbmxVc2NWQ0Q3MEdMM3VQNmFTWT08L2RzOkRpZ2VzdFZhbHVlPgogICAgICAgICAgICA8L2RzOlJlZmVyZW5jZT4KICAgICAgICAgIDwvZHM6U2lnbmVkSW5mbz4KICAgICAgICAgIDxkczpTaWduYXR1cmVWYWx1ZT5HRlNoRUc0SW4xdXNuWEpmYXBORDNkdmxOUDlOdnc0TWZ1WEh6YXVpS2xxemZ5R3ZlaWFvUnZaTU8zcmVLVXcwOG9nT3pFc3NOYk9GICAgICAgICAgICAgdUR3SVRyNUxzSDFzSEpnM3E4NWZXUE5IalhKdkMzZXVwMWZJS3ZUczdZenhYa2RXcnVGMlplREo5NzBQdVBKUGM1OWxqU09BK1VGeCBaOFphUklOTnA2RkpjVTNYa3FzPTwvZHM6U2lnbmF0dXJlVmFsdWU+CiAgICAgICAgICA8ZHM6S2V5SW5mbz4KICAgICAgICAgICAgPGRzOlg1MDlEYXRhPgogICAgICAgICAgICAgIDxkczpYNTA5Q2VydGlmaWNhdGU+TUlJRGpUQ0NBdmFnQXdJQkFnSUNBSTB3RFFZSktvWklodmNOQVFFTkJRQXdSVEVMTUFrR0ExVUVCaE1DUTBneEREQUtCZ05WQkFvTSAgICAgICAgICAgIEtuaWdodHMgd2hvIHNheXMgTkkgICAgICAgIFhSOEdyWS9RU21uM1RXZ0hmTzZxTGRyVUVmdlYgZXc9PTwvZHM6WDUwOUNlcnRpZmljYXRlPgogICAgICAgICAgICA8L2RzOlg1MDlEYXRhPgogICAgICAgICAgPC9kczpLZXlJbmZvPgogICAgICAgIDwvZHM6U2lnbmF0dXJlPgogICAgICAgIDxzYW1sMjpTdWJqZWN0PgogICAgICAgICAgPHNhbWwyOk5hbWVJRCBGb3JtYXQ9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpuYW1laWQtZm9ybWF0OnBlcnNpc3RlbnQiIE5hbWVRdWFsaWZpZXI9InVybjplLWhlYWx0aC1zdWlzc2U6MjAxNTplcHItc3BpZCI+NzYxMzM3NjEzNDg4NTgxMjYxPC9zYW1sMjpOYW1lSUQ+CiAgICAgICAgPC9zYW1sMjpTdWJqZWN0PgogICAgICAgIDxzYW1sMjpDb25kaXRpb25zIE5vdEJlZm9yZT0iMjAyMS0xMC0xNFQyMjoxMDo0OS44MzFaIiBOb3RPbk9yQWZ0ZXI9IjIwMjUtMTAtMTRUMjI6MTU6NDkuODMxNTgyWiI+CiAgICAgICAgICA8c2FtbDI6QXVkaWVuY2VSZXN0cmljdGlvbj4KICAgICAgICAgICAgPHNhbWwyOkF1ZGllbmNlPmh0dHA6Ly9paGUuY29ubmVjdGF0aG9uLlhVQS9YLVNlcnZpY2VQcm92aWRlci1JSEUtQ29ubmVjdGF0aG9uPC9zYW1sMjpBdWRpZW5jZT4KICAgICAgICAgIDwvc2FtbDI6QXVkaWVuY2VSZXN0cmljdGlvbj4KICAgICAgICA8L3NhbWwyOkNvbmRpdGlvbnM+CiAgICAgICAgPHNhbWwyOkF1dGhuU3RhdGVtZW50IEF1dGhuSW5zdGFudD0iMjAyNC0wOC0yOVQxNTowNDowMy43MzlaIiBTZXNzaW9uTm90T25PckFmdGVyPSIyMDE4LTAzLTI4VDA5OjEyOjQzLjE1NFoiPgogICAgICAgICAgPHNhbWwyOkF1dGhuQ29udGV4dD4KICAgICAgICAgICAgPHNhbWwyOkF1dGhuQ29udGV4dENsYXNzUmVmPnVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphYzpjbGFzc2VzOnVuc3BlY2lmaWVkPC9zYW1sMjpBdXRobkNvbnRleHRDbGFzc1JlZj4KICAgICAgICAgIDwvc2FtbDI6QXV0aG5Db250ZXh0PgogICAgICAgIDwvc2FtbDI6QXV0aG5TdGF0ZW1lbnQ+CiAgICAgICAgPHNhbWwyOkF0dHJpYnV0ZVN0YXRlbWVudD4KICAgICAgICAgIDxzYW1sMjpBdHRyaWJ1dGUgTmFtZT0idXJuOm9hc2lzOm5hbWVzOnRjOnhzcGE6MS4wOnN1YmplY3Q6c3ViamVjdC1pZCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPgogICAgICAgICAgICA8c2FtbDI6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzZDpzdHJpbmciPklyaXMgTXVzdGVycGF0aWVudDwvc2FtbDI6QXR0cmlidXRlVmFsdWU+CiAgICAgICAgICA8L3NhbWwyOkF0dHJpYnV0ZT4KICAgICAgICAgIDxzYW1sMjpBdHRyaWJ1dGUgTmFtZT0idXJuOm9hc2lzOm5hbWVzOnRjOnhzcGE6MS4wOnN1YmplY3Q6b3JnYW5pemF0aW9uIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVyaSIvPgogICAgICAgICAgPHNhbWwyOkF0dHJpYnV0ZSBOYW1lPSJ1cm46b2FzaXM6bmFtZXM6dGM6eHNwYToxLjA6c3ViamVjdDpvcmdhbml6YXRpb24taWQiIE5hbWVGb3JtYXQ9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphdHRybmFtZS1mb3JtYXQ6dXJpIi8+CiAgICAgICAgICA8c2FtbDI6QXR0cmlidXRlIE5hbWU9InVybjpvYXNpczpuYW1lczp0Yzp4YWNtbDoyLjA6c3ViamVjdDpyb2xlIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVyaSI+CiAgICAgICAgICAgIDxzYW1sMjpBdHRyaWJ1dGVWYWx1ZT4KICAgICAgICAgICAgICA8Um9sZSB4bWxucz0idXJuOmhsNy1vcmc6djMiIGNvZGU9IlBBVCIgY29kZVN5c3RlbT0iMi4xNi43NTYuNS4zMC4xLjEyNy4zLjEwLjYiIGNvZGVTeXN0ZW1OYW1lPSJjaC1laGVhbHRoLWNvZGVzeXN0ZW0tcm9sZSIgZGlzcGxheU5hbWU9IlBhdGllbnQiIHhzaTp0eXBlPSJDRSIvPgogICAgICAgICAgICA8L3NhbWwyOkF0dHJpYnV0ZVZhbHVlPgogICAgICAgICAgPC9zYW1sMjpBdHRyaWJ1dGU+CiAgICAgICAgICA8c2FtbDI6QXR0cmlidXRlIE5hbWU9InVybjpvYXNpczpuYW1lczp0Yzp4c3BhOjEuMDpzdWJqZWN0OnB1cnBvc2VvZnVzZSIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPgogICAgICAgICAgICA8c2FtbDI6QXR0cmlidXRlVmFsdWU+CiAgICAgICAgICAgICAgPFB1cnBvc2VPZlVzZSB4bWxucz0idXJuOmhsNy1vcmc6djMiIGNvZGU9Ik5PUk0iIGNvZGVTeXN0ZW09IjIuMTYuNzU2LjUuMzAuMS4xMjcuMy4xMC41IiBjb2RlU3lzdGVtTmFtZT0iY2gtZWhlYWx0aC1jb2Rlc3lzdGVtLXB1cnBvc2VPZlVzZSIgZGlzcGxheU5hbWU9Ik5vcm1hbCBBY2Nlc3MiIHhzaTp0eXBlPSJDRSIvPgogICAgICAgICAgICA8L3NhbWwyOkF0dHJpYnV0ZVZhbHVlPgogICAgICAgICAgPC9zYW1sMjpBdHRyaWJ1dGU+CiAgICAgICAgICA8c2FtbDI6QXR0cmlidXRlIE5hbWU9InVybjpvYXNpczpuYW1lczp0Yzp4YWNtbDoyLjA6cmVzb3VyY2U6cmVzb3VyY2UtaWQiIE5hbWVGb3JtYXQ9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphdHRybmFtZS1mb3JtYXQ6dXJpIj4KICAgICAgICAgICAgPHNhbWwyOkF0dHJpYnV0ZVZhbHVlIHhzaTp0eXBlPSJ4c2Q6c3RyaW5nIj43NjEzMzc2MTM0ODg1ODEyNjFeXl4mYW1wOzIuMTYuNzU2LjUuMzAuMS4xMjcuMy4xMC4zJmFtcDtJU088L3NhbWwyOkF0dHJpYnV0ZVZhbHVlPgogICAgICAgICAgPC9zYW1sMjpBdHRyaWJ1dGU+CiAgICAgICAgICA8c2FtbDI6QXR0cmlidXRlIE5hbWU9InVybjppaGU6aXRpOnhjYToyMDEwOmhvbWVDb21tdW5pdHlJZCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPgogICAgICAgICAgICA8c2FtbDI6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzZDphbnlVUkkiPnVybjpvaWQ6My4zLjMuMTwvc2FtbDI6QXR0cmlidXRlVmFsdWU+CiAgICAgICAgICA8L3NhbWwyOkF0dHJpYnV0ZT4KICAgICAgICA8L3NhbWwyOkF0dHJpYnV0ZVN0YXRlbWVudD4KICAgICAgPC9zYW1sMjpBc3NlcnRpb24+

### MHD ITI-67 with JWT as Bearer
GET {{host}}/fhir/DocumentReference?patient.identifier=urn:oid:1.3.6.1.4.1.12559.11.25.1.19|CHFACILITY900012&status=current HTTP/1.1
Accept: application/fhir+json
Authorization: Bearer eyJ0eXAiOiAiand0IiwgImFsZyI6ICJIUzUxMiJ9.eyJuYW1lIjoiV2lraXBlZGlhIiwiaWF0IjoxNTI1Nzc3OTM4fQ.iu0aMCsaepPy6ULphSX5PT32oPvKkM5dPl131knIDq9Cr8OUzzACsuBnpSJ_rE9XkGjmQVawcvyCHLiM4Kr6NA

### MHD ITI-67 with traceparent
GET {{host}}/fhir/DocumentReference?patient.identifier=urn:oid:1.3.6.1.4.1.12559.11.25.1.19|CHFACILITY900012&status=current HTTP/1.1
Accept: application/fhir+json
traceparent: 00-0af7651916cd43dd8448eb211c80319c-b7ad6b7169203331-00
